{"version":3,"sources":["pages/Game/Game.module.scss","components/Form/Input.module.scss","pages/Game/PlayerHand.module.scss","pages/Homepage/Homepage.module.scss","pages/Lobby/Lobby.module.scss","pages/JoinRoom/JoinRoom.module.scss","components/Button.module.scss","components/RoomInfo.module.scss","pages/Lobby/PlayerDiv.module.scss","pages/Game/Card.module.scss","pages/CreateRoom/CreateRoom.module.scss","app/roomSlice.ts","utils/firebase.ts","assets/cards.ts","app/store.ts","pages/Homepage/Homepage.tsx","app/hooks.ts","components/Form/Input.tsx","components/Form/Form.tsx","components/Button.tsx","pages/JoinRoom/JoinRoom.tsx","pages/CreateRoom/CreateRoom.tsx","utils/hooks.ts","components/RoomInfo.tsx","assets/characterImgs.ts","assets/characterImgs/Ackley.png","assets/characterImgs/Allie.png","assets/characterImgs/DB.png","assets/characterImgs/Holden.png","assets/characterImgs/Jane.png","assets/characterImgs/Phoebe.png","assets/characterImgs/Sally.png","assets/characterImgs/Stradlater.png","pages/Lobby/PlayerDiv.tsx","pages/Lobby/Lobby.tsx","pages/Game/Card.tsx","pages/Game/PlayerHand.tsx","pages/Game/Game.tsx","App.tsx","index.tsx"],"names":["module","exports","Status","Characters","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","getFirestore","cards","question","choices","a","b","player","playerName","status","alive","choice","letter","text","numOfLives","initialState","roomInfo","roomName","roomId","start","players","Object","fromEntries","keys","slice","length","map","character","self","creator","hide","reveal","questionIdx","createRoom","createAsyncThunk","input","rejectWithValue","numOfDigit","Date","getTime","toString","roomData","roomDoc","doc","setDoc","console","error","response","data","joinRoom","getDoc","roomSnapshot","exists","Error","log","values","filter","alert","setCharacter","getState","state","room","startGame","_","nextRound","entries","Math","floor","random","makeChoice","dispatch","every","totalPlayers","majorityRate","otherPlayer","setTimeout","roomSlice","createSlice","name","reducers","updateLocalState","action","payload","extraReducers","builder","addCase","fulfilled","actions","selectSelf","selectRoom","createDraftSafeSelector","selectNumOfPlayers","store","configureStore","reducer","Homepage","className","styles","homepage","join","to","create","useAppDispatch","useDispatch","useAppSelector","useSelector","Input","changeHandler","label","value","defaultValue","option","readOnly","selectAllOnFocus","props","InputOrTextarea","inputRef","useRef","group","ref","textarea","onChange","onFocus","current","select","shrink","Form","submitFn","children","inputItems","defaultItems","assign","useState","setInput","e","target","submitHandler","preventDefault","onSubmit","idx","Button","type","styleOption","button","JoinRoom","history","useHistory","form","meta","requestStatus","push","inputMode","pattern","title","placeholder","required","CreateRoom","useFirebaseSyncState","useEffect","unsubSnapshot","onSnapshot","RoomInfo","theme","onClick","navigator","clipboard","writeText","onMouseLeave","blur","gap","characterImgs","Ackley","Allie","DB","Holden","Jane","Phoebe","Sally","Stradlater","PlayerDiv","chooseCharacter","movingStripe","src","alt","Lobby","chosenCharacter","setChosenCharacter","numOfPlayers","lobby","sort","Card","card","split","PlayerHand","playerHand","avatar","lives","Array","backOfCard","toUpperCase","Game","game","panel","App","exact","path","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.6f936214.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"game\":\"Game_game__1FPYC\",\"panel\":\"Game_panel__3JRIr\",\"roomInfo\":\"Game_roomInfo__2Yb_2\",\"choices\":\"Game_choices__18ub6\",\"players\":\"Game_players__2LfTY\",\"colorChange\":\"Game_colorChange__tN9Z9\",\"start\":\"Game_start__B8_5s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"group\":\"Input_group__qqKg8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"playerHand\":\"PlayerHand_playerHand__2SLu6\",\"avatar\":\"PlayerHand_avatar__1Xz3d\",\"lives\":\"PlayerHand_lives__Bk_43\",\"backOfCard\":\"PlayerHand_backOfCard__wzfWP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"homepage\":\"Homepage_homepage__1PYnE\",\"join\":\"Homepage_join__2oZgT\",\"create\":\"Homepage_create__VHEFp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lobby\":\"Lobby_lobby__19cBj\",\"colorChange\":\"Lobby_colorChange__oPtHk\",\"players\":\"Lobby_players__muV5w\",\"start\":\"Lobby_start__GHNEu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"join\":\"JoinRoom_join__135Pp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__295ax\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"roomInfo\":\"RoomInfo_roomInfo__rUg3b\",\"gap\":\"RoomInfo_gap__2bwQO\",\"colorChange\":\"RoomInfo_colorChange__35e4W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"player\":\"PlayerDiv_player___Yjny\",\"movingStripe\":\"PlayerDiv_movingStripe__Cm_Rq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1fUMD\",\"question\":\"Card_question__3dnNn\",\"choiceA\":\"Card_choiceA__2pdwk\",\"small\":\"Card_small__2wY3v\",\"choiceB\":\"Card_choiceB__1tt_x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"create\":\"CreateRoom_create__1mlbk\"};","import { RootState } from 'app/store';\nimport { createSlice, createDraftSafeSelector, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';\n\nimport { firestore } from 'utils/firebase';\nimport { doc, getDoc, setDoc } from 'firebase/firestore';\n\nimport cards from 'assets/cards';\n\nexport enum Status { dead, alive }\nexport enum Characters { Holden, Phoebe, Sally, Jane, Ackley, Stradlater, Allie, DB }\n\n\nconst player = {\n  playerName: '',\n  status: Status.alive,\n  choice: { letter: '', text: '' },\n  numOfLives: 3\n};\n\nexport type Player = typeof player;\n\nconst initialState = {\n  roomInfo: {\n    roomName: '',\n    roomId: '',\n  },\n  start: false,\n  players: Object.fromEntries(\n    Object.keys(Characters)\n      .slice(Object.keys(Characters).length / 2)\n      .map(character => [character, player])\n  ),\n\n  self: {\n    playerName: '',\n    creator: true,\n  },\n  character: '',\n  hide: true,\n  reveal: false,\n  questionIdx: 0\n};\n\nexport type LocalState = typeof initialState;\nexport type DatabaseState = Omit<typeof initialState, 'self' | 'character'>;\n\n\nconst getCodeFromDate = (numOfDigit: number) => {\n  return new Date().getTime().toString().slice(-numOfDigit);\n};\n\nexport const createRoom = createAsyncThunk(\n  'room/createRoom',\n  async (input: {\n    playerName: string;\n    roomName: string;\n  }, {\n    rejectWithValue\n  }) => {\n    const roomId = getCodeFromDate(6);\n\n    const roomData = {\n      roomInfo: {\n        roomId,\n        roomName: input.roomName || `Room ${roomId}`\n      },\n      players: initialState.players,\n      start: false,\n      hide: true,\n      reveal: false,\n      questionIdx: 0\n    };\n\n    try {\n      const roomDoc = doc(firestore, 'rooms', roomId);\n      await setDoc(roomDoc, roomData);\n      return {\n        ...roomData,\n        self: {\n          playerName: input.playerName,\n          creator: true\n        }\n      };\n\n    } catch (err) {\n      console.error(err);\n      return rejectWithValue(err.response.data);\n    }\n  }\n);\n\nexport const joinRoom = createAsyncThunk(\n  'room/joinRoom',\n  async (input: {\n    roomId: string;\n    playerName: string;\n  }, { rejectWithValue }) => {\n    try {\n      const roomDoc = doc(firestore, 'rooms', input.roomId);\n      const roomSnapshot = await getDoc(roomDoc);\n\n      if (!roomSnapshot.exists())\n        throw new Error('Room not Found');\n\n      const roomData = roomSnapshot.data() as DatabaseState;\n      console.log(\"Room data:\", roomData);\n\n      if (\n        Object.values(roomData.players)\n          .filter(player => player.playerName)\n          .length >= 8\n      )\n        throw new Error('Room Full');\n\n      return {\n        ...roomData,\n        self: {\n          playerName: input.playerName,\n          creator: false\n        }\n      };\n\n    } catch (err) {\n      console.error(err);\n      alert(err);\n      return rejectWithValue(err.response.data);\n    }\n  }\n);\n\n\nexport const setCharacter = createAsyncThunk(\n  'room/selectCharacter',\n  async (character: string, { getState, rejectWithValue }) => {\n    const state = (getState() as RootState).room;\n\n    try {\n      const roomDoc = doc(firestore, 'rooms', state.roomInfo.roomId);\n      const roomSnapshot = await getDoc(roomDoc);\n\n      if (roomSnapshot.exists()) {\n        const roomData = roomSnapshot.data() as DatabaseState;\n        roomData.players[character].playerName = state.self.playerName;\n        await setDoc(roomDoc, roomData);\n      }\n\n      return character;\n\n    } catch (err) {\n      console.error(err);\n      return rejectWithValue(err.response.data);\n    }\n  }\n);\n\nexport const startGame = createAsyncThunk(\n  'room/startGame',\n  async (_, { getState, rejectWithValue }) => {\n    const state = (getState() as RootState).room;\n\n    try {\n      const roomDoc = doc(firestore, 'rooms', state.roomInfo.roomId);\n      const roomSnapshot = await getDoc(roomDoc);\n\n      if (roomSnapshot.exists()) {\n        const roomData = roomSnapshot.data() as DatabaseState;\n        roomData.start = true;\n        await setDoc(roomDoc, roomData);\n      }\n\n      return true;\n    } catch (err) {\n      console.error(err);\n      return rejectWithValue(err.response.data);\n    }\n  }\n);\n\n\nconst nextRound = createAsyncThunk(\n  'room/nextRound',\n  async (_, { getState }) => {\n    const state = (getState() as RootState).room;\n    const roomDoc = doc(firestore, 'rooms', state.roomInfo.roomId);\n    const roomSnapshot = await getDoc(roomDoc);\n    const roomData = roomSnapshot.data() as DatabaseState;\n\n    roomData.players = Object.fromEntries(Object.entries(roomData.players).map(([character, player]) => {\n      player.choice = { letter: '', text: '' };\n      return [character, player];\n    }));\n\n    roomData.questionIdx = (() => {\n      while (true) {\n        const questionIdx = Math.floor(Math.random() * cards.length);\n        if (questionIdx !== roomData.questionIdx) return questionIdx;\n      }\n    })();\n\n    console.log('questionIdx in Slice', roomData.questionIdx);\n    roomData.reveal = false;\n    roomData.hide = true;\n\n    await setDoc(roomDoc, roomData);\n    return roomData;\n  }\n);\n\nexport const makeChoice = createAsyncThunk(\n  'room/makeChoice',\n  async (choice: { letter: string, text: string; }, { getState, dispatch, rejectWithValue }) => {\n    const state = (getState() as RootState).room;\n\n    try {\n      const roomDoc = doc(firestore, 'rooms', state.roomInfo.roomId);\n      const roomSnapshot = await getDoc(roomDoc);\n      const roomData = roomSnapshot.data() as DatabaseState;\n\n      state.character && (roomData.players[state.character].choice = choice);\n\n      const reveal = Object.values(roomData.players).every((player) => (!player.playerName) || (player.choice.text));\n      console.log('reveal inside slice', reveal);\n\n      if (reveal) {\n        roomData.hide = false;\n        roomData.reveal = true;\n        console.log('bru', roomData.players[state.character].playerName, roomData.players[state.character].numOfLives);\n\n        const totalPlayers = Object.values(roomData.players)\n          .filter((player) => player.playerName)\n          .length;\n\n        roomData.players = Object.fromEntries(\n          Object.entries(roomData.players).map(([character, player]) => {\n            const sameChoicePlayers = Object.values(roomData.players)\n              .filter((otherPlayer) => otherPlayer.choice.text === player.choice.text)\n              .length;\n            const majorityRate = (sameChoicePlayers / totalPlayers);\n\n            (majorityRate === 0.5) || (player.numOfLives === 0)\n              ? player.numOfLives += 0\n              : (majorityRate > 0.5)\n                ? player.numOfLives += 1\n                : player.numOfLives -= 1;\n\n            return [character, player];\n          })\n        );\n\n        setTimeout(() => {\n          dispatch(nextRound());\n        }, 5000);\n      }\n\n      await setDoc(roomDoc, roomData);\n      return roomData;\n\n    } catch (err) {\n      console.error(err);\n      return rejectWithValue(err.response.data);\n    }\n  }\n);\n\n\nconst roomSlice = createSlice({\n  name: 'room',\n  initialState,\n  reducers: {\n    updateLocalState: (state, action: PayloadAction<DatabaseState>) => {\n      state.players = action.payload.players;\n      state.start = action.payload.start;\n      state.reveal = action.payload.reveal;\n      state.hide = action.payload.hide;\n      state.questionIdx = action.payload.questionIdx;\n    }\n  },\n  extraReducers: (builder) => {\n    builder.addCase(\n      createRoom.fulfilled,\n      (state, action) => {\n        state.roomInfo = action.payload.roomInfo;\n        state.self = action.payload.self;\n      }\n    ).addCase(\n      joinRoom.fulfilled,\n      (state, action) => {\n        state.roomInfo = action.payload.roomInfo;\n        state.self = action.payload.self;\n      }\n    ).addCase(\n      startGame.fulfilled,\n      (state, action) => {\n        state.start = action.payload;\n      }\n    ).addCase(\n      setCharacter.fulfilled,\n      (state, action) => {\n        state.character = action.payload;\n      }\n    )\n  }\n});\n\nexport const {\n  updateLocalState\n} = roomSlice.actions;\nexport default roomSlice.reducer;\n\n\nconst selectSelf = (state: RootState) => state.room;\n\nexport const selectRoom = createDraftSafeSelector(selectSelf, (room) => room);\n\nexport const selectNumOfPlayers = createDraftSafeSelector(selectSelf, (room) =>\n  Object.values(room.players)\n    .filter((player) => player.playerName)\n    .length\n);\n","import { initializeApp } from 'firebase/app';\nimport { getFirestore, collection, doc, writeBatch } from 'firebase/firestore';\n\nconst app = initializeApp({\n  apiKey: \"AIzaSyD1NFcagQPimIJbwDQ1xFqihYtfjvzoZPA\",\n  authDomain: \"codicate-catcher-game.firebaseapp.com\",\n  projectId: \"codicate-catcher-game\",\n  storageBucket: \"codicate-catcher-game.appspot.com\",\n  messagingSenderId: \"1054320469268\",\n  appId: \"1:1054320469268:web:8ad27af9a67dd26d3bce01\",\n  measurementId: \"G-XSCM9S0BJD\"\n});\n\nexport const firestore = getFirestore(app);\n\n\nexport const addCollection = async (collectionPath: string, objArr: {}[]) => {\n  const batch = writeBatch(firestore);\n\n  objArr.forEach(obj => {\n    const docRef = doc(collection(firestore, collectionPath));\n    batch.set(docRef, obj);\n  });\n\n  await batch.commit();\n};","const cards = [\n  {\n    question: 'A guy from your school went on a date on the girl you have a crush on, who was also your childhood friend. What would you do to retaliate?',\n    choices: {\n      a: 'Have a fist fight with the guy',\n      b: 'Sabotaging their relationship in secret'\n    }\n  },\n  {\n    question: 'You just got kicked out of school and on the train to a new city. You met the mother of your classmate. What would you say to her when she ask you about her son?',\n    choices: {\n      a: 'Dropping the truth that her son is doing badly in school',\n      b: 'Flatter her by lying about her son\\' performance and reputation'\n    }\n  },\n  {\n    question: 'You are in a foreign place with no friend to talk to. You were offered a transaction for a prostitute which you accepted. What would you do with the prostitute?',\n    choices: {\n      a: 'Seek comfort by having sex',\n      b: 'Seek comfort by expressing your feeling of loneliness to her'\n    }\n  },\n  {\n    question: 'You refused to give away 5 dollars, and were then beaten and robbed by a guy in a hotel room. What would you do to retaliate?',\n    choices: {\n      a: 'Seek revenge by backstab the guy with a sharp object when he was leaving in the hallway',\n      b: 'Cry yourself to sleep while thinking about the imagery of a retaliation in your head'\n    }\n  },\n  {\n    question: 'You crashed at the house of a close teacher of yours after you got kicked out of school. You found him petting your hair to wake you up in the morning. What would you do in return?',\n    choices: {\n      a: 'Denounce the act and accuse him of assault and leave',\n      b: 'Ignore the act and crash at the place for a second night'\n    }\n  },\n  {\n    question: 'Your girlfriend, who is also a teenager, asks you to escape all responsibilities and to run away with her, then live in a remote log cabin together, surviving off of a backyard garden. How would you respond to her?',\n    choices: {\n      a: 'Be realistic and deny the possibility for this to happen',\n      b: 'Be optimistic and promise her your commitment'\n    }\n  },\n  {\n    question: 'You left school and home to attempt to live on your own in a foreign place, but felt extremely lonely and demoralized. Who will you seek help from?',\n    choices: {\n      a: 'Your younger siblings who will not judge your poor decisions',\n      b: 'Your parents who will rebuke your poor decisions '\n    }\n  },\n  {\n    question: 'You ran away from home to survive on your own, but desperately need companionship. Who would you choose to struggle together?',\n    choices: {\n      a: 'Your ten-year-old younger sister',\n      b: 'Your girlfriend of your age'\n    }\n  },\n  {\n    question: 'You have a crush on your childhood best friend. You believe your affection is pure, but you did not want to be misunderstood. How would you continue to face your crush?',\n    choices: {\n      a: 'Confess your affection and attempt to maintain a healthy relationship',\n      b: 'Continue to hide your affection and attempt to maintain a healthy friendship'\n    }\n  },\n  {\n    question: 'You want to escape to a fresh setting in a faraway city. You have a supportive younger sister who would follow you to anywhere you go. What would you ask her to do?',\n    choices: {\n      a: 'Ask her to go along with you, where you would provide for her education to the best of your ability',\n      b: 'Ask her to be a good daughter and leave for the new city in secret'\n    }\n  },\n  // {\n  //   question: '',\n  //   choices: {\n  //     a: '',\n  //     b: ''\n  //   }\n  // },\n];\n\nexport default cards;\n\n","import { configureStore, ThunkAction, Action } from '@reduxjs/toolkit';\n\nimport roomSlice from 'app/roomSlice';\n\nexport const store = configureStore({\n  reducer: {\n    room: roomSlice,\n  },\n});\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n","import styles from 'pages/Homepage/Homepage.module.scss';\nimport { Link } from 'react-router-dom';\n\nconst Homepage = () => {\n\n  return (\n    <div className={styles.homepage}>\n      <Link className={styles.join} to='/join'>\n        Join Room\n      </Link>\n      <Link className={styles.create} to='/create'>\n        Create Room\n      </Link>\n    </div >\n  );\n};\n\nexport default Homepage;\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './store';\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import styles from 'components/Form/Input.module.scss';\nimport { useRef } from 'react';\n\nexport interface InputOptions {\n  type?: string,\n  placeholder?: string;\n  readOnly?: boolean;\n  required?: boolean;\n\n  option?: 'input' | 'textarea';\n  label?: string;\n  defaultValue?: string,\n  selectAllOnFocus?: boolean;\n}\n\nexport type ChangeHandler = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => void;\n\nconst Input = ({\n  changeHandler,\n  label,\n  defaultValue,\n  value,\n  option,\n  readOnly,\n  selectAllOnFocus,\n  ...props\n}: {\n  changeHandler?: ChangeHandler;\n  name?: string;\n  label?: string;\n  value: string;\n} & InputOptions\n) => {\n  const InputOrTextarea = option || 'input';\n  const inputRef = useRef<HTMLInputElement & HTMLTextAreaElement>(null);\n\n  return (\n    <div className={styles.group}>\n      <InputOrTextarea\n        ref={inputRef}\n        className={(\n          option === 'textarea'\n        ) ? styles.textarea\n          : styles.input\n        }\n        onChange={changeHandler}\n        {...((selectAllOnFocus)\n          && { onFocus: () => inputRef.current?.select() }\n        )}\n        {...((readOnly)\n          && { readOnly: true }\n        )}\n        {...props}\n      />\n      {\n        label && (\n          <label\n            className={`${value ? styles.shrink : ''}`}\n          >\n            {label}\n          </label>\n        )\n      }\n    </div>\n  );\n};\n\nexport default Input;\n","import { useState, FormEvent } from 'react';\n\nimport Input, { InputOptions, ChangeHandler } from 'components/Form/Input';\n\nfunction Form<\n  T extends { [name: string]: InputOptions; }\n>({\n  className,\n  submitFn,\n  children,\n  inputItems\n}: {\n  className?: string;\n  submitFn?: (inputItems: Record<keyof T, string>) => void | boolean | Promise<boolean | void>;\n  children?: React.ReactNode;\n  inputItems: T;\n}) {\n\n  const defaultItems = Object.assign(\n    Object.entries(inputItems).map(([name, value]) => ({\n      [name]: value.defaultValue || ''\n    }))\n  );\n\n  const [input, setInput] = useState(defaultItems);\n\n  const changeHandler: ChangeHandler = (e) => {\n    const { name, value } = e.target;\n\n    setInput({\n      ...input,\n      [name]: value\n    });\n  };\n\n  const submitHandler = async (e: FormEvent) => {\n    e.preventDefault();\n\n    const reset = submitFn\n      ? await submitFn(input)\n      : true;\n\n    reset && setInput(defaultItems);\n  };\n\n  return (\n    <form\n      className={className}\n      onSubmit={submitHandler}\n    >\n      {\n        Object.entries(inputItems).map(([name, value], idx) => (\n          <Input\n            key={idx}\n            changeHandler={changeHandler}\n            name={name}\n            value={input[name]}\n            {...value}\n          />\n        ))\n      }\n      {children}\n    </form>\n  );\n};\n\nexport default Form;\n","import styles from 'components/Button.module.scss';\n\nconst Button = ({\n  children = '',\n  type = 'button',\n  styleOption,\n  ...props\n}: {\n  children?: React.ReactNode;\n  type?: 'submit' | 'reset' | 'button';\n  styleOption?: string;\n  onClick?(): void;\n}) => {\n  return (\n    <button\n      className={`${styles.button} ${styleOption ? styles[styleOption] : ''}`}\n      type={type}\n      {...props}\n    >\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n","import styles from 'pages/JoinRoom/JoinRoom.module.scss';\nimport { useHistory } from 'react-router-dom';\n\nimport { useAppDispatch } from 'app/hooks';\nimport { joinRoom } from 'app/roomSlice';\n\nimport Form from 'components/Form/Form';\nimport Button from 'components/Button';\n\n\nconst JoinRoom = () => {\n  const dispatch = useAppDispatch();\n  const history = useHistory();\n\n  return (\n    <div className={styles.join}>\n      <Form\n        className={styles.form}\n        submitFn={async (input) => {\n          const joinPayload = await dispatch(joinRoom(input));\n\n          if (joinPayload.meta.requestStatus === 'fulfilled')\n            history.push('/lobby');\n        }}\n        inputItems={{\n          roomId: {\n            inputMode: 'numeric',\n            pattern: '\\\\d{6}',\n            title: '6 numeric digits',\n            selectAllOnFocus: true,\n            placeholder: 'Room ID',\n            required: true,\n          },\n          playerName: {\n            selectAllOnFocus: true,\n            placeholder: 'Your Name',\n            required: true,\n          }\n        }}\n      >\n        <Button type='submit'>\n          Join Room\n        </Button>\n      </Form>\n    </div>\n  );\n};\n\nexport default JoinRoom;\n","import styles from 'pages/CreateRoom/CreateRoom.module.scss';\nimport { useHistory } from 'react-router-dom';\n\nimport { useAppDispatch } from 'app/hooks';\nimport { createRoom } from 'app/roomSlice';\n\nimport Form from 'components/Form/Form';\nimport Button from 'components/Button';\n\n\nconst CreateRoom = () => {\n  const dispatch = useAppDispatch();\n  const history = useHistory();\n\n  return (\n    <div className={styles.create}>\n      <Form\n        submitFn={async (input) => {\n          await dispatch(createRoom(input));\n          history.push('/lobby');\n        }}\n\n        inputItems={{\n          roomName: {\n            selectAllOnFocus: true,\n            placeholder: 'Room Name',\n            required: true,\n          },\n          playerName: {\n            selectAllOnFocus: true,\n            placeholder: 'Your Name',\n            required: true,\n          }\n        }}>\n        <Button type='submit'>\n          Create Room\n        </Button>\n      </Form>\n    </div >\n  );\n};\n\nexport default CreateRoom;\n","import { useEffect } from 'react';\n\nimport { firestore } from 'utils/firebase';\nimport { doc, onSnapshot } from 'firebase/firestore';\n\nimport { useAppSelector, useAppDispatch } from 'app/hooks';\nimport { updateLocalState, selectRoom, DatabaseState } from 'app/roomSlice';\n\nexport const useFirebaseSyncState = () => {\n  const dispatch = useAppDispatch();\n  const { roomInfo } = useAppSelector(selectRoom);\n\n  useEffect(() => {\n    const roomDoc = doc(firestore, 'rooms', roomInfo.roomId);\n\n    const unsubSnapshot = onSnapshot(roomDoc, (doc) => {\n      dispatch(updateLocalState(doc.data() as DatabaseState));\n    });\n\n    return () => unsubSnapshot();\n  }, [dispatch, roomInfo]);\n};","import styles from 'components/RoomInfo.module.scss';\n\nconst RoomInfo = ({\n  roomName, roomId, theme\n}: {\n  roomName: string;\n  roomId: string;\n  theme?: string;\n}) => {\n  return (\n    <button\n      className={`${styles.roomInfo} ${(theme || '')}`}\n      onClick={async () => {\n        await navigator.clipboard.writeText(roomId);\n      }}\n      onMouseLeave={(e) => {\n        (e.target as HTMLButtonElement).blur();\n      }}\n    >\n      <span>{roomName}</span>\n      <span className={styles.gap}></span>\n      <span>{roomId}</span>\n    </button>\n  );\n};\n\nexport default RoomInfo;\n","import Ackley from 'assets/characterImgs/Ackley.png';\nimport Allie from 'assets/characterImgs/Allie.png';\nimport DB from 'assets/characterImgs/DB.png';\nimport Holden from 'assets/characterImgs/Holden.png';\nimport Jane from 'assets/characterImgs/Jane.png';\nimport Phoebe from 'assets/characterImgs/Phoebe.png';\nimport Sally from 'assets/characterImgs/Sally.png';\nimport Stradlater from 'assets/characterImgs/Stradlater.png';\n\nconst characterImgs = {\n  Ackley,\n  Allie,\n  DB,\n  Holden,\n  Jane,\n  Phoebe,\n  Sally,\n  Stradlater\n};\n\nexport default characterImgs;\n","export default __webpack_public_path__ + \"static/media/Ackley.375d18e7.png\";","export default __webpack_public_path__ + \"static/media/Allie.5367fb35.png\";","export default __webpack_public_path__ + \"static/media/DB.0fafdd9c.png\";","export default __webpack_public_path__ + \"static/media/Holden.0c4aca3e.png\";","export default __webpack_public_path__ + \"static/media/Jane.7981ce94.png\";","export default __webpack_public_path__ + \"static/media/Phoebe.5ea1fc39.png\";","export default __webpack_public_path__ + \"static/media/Sally.ca5be420.png\";","export default __webpack_public_path__ + \"static/media/Stradlater.f3acccda.png\";","import styles from 'pages/Lobby/PlayerDiv.module.scss';\n\nimport { Player } from 'app/roomSlice';\nimport characterImgs from 'assets/characterImgs';\n\nfunction PlayerDiv({\n  idx,\n  character,\n  player,\n  chooseCharacter,\n}: {\n  idx: number;\n  character: string;\n  player: Player;\n  chooseCharacter: (character: string, player: Player) => void;\n}) {\n  return (\n    <div\n      className={`\n      ${styles.player}\n      ${!player.playerName ? styles.movingStripe : ''}\n    `}\n      onClick={() => chooseCharacter(character, player)}\n    >\n      <img\n        src={characterImgs[character as keyof typeof characterImgs]}\n        alt=\"\"\n      />\n      <div>\n        {player?.playerName || 'Choose me'}\n      </div>\n    </div>\n  );\n}\n\nexport default PlayerDiv;\n","import styles from 'pages/Lobby/Lobby.module.scss';\nimport { useState } from 'react';\nimport { useHistory, Redirect } from 'react-router-dom';\n\nimport { useFirebaseSyncState } from 'utils/hooks';\n\nimport { useAppSelector, useAppDispatch } from 'app/hooks';\nimport {\n  setCharacter, Player, startGame,\n  selectRoom, selectNumOfPlayers\n} from 'app/roomSlice';\n\nimport RoomInfo from 'components/RoomInfo';\nimport PlayerDiv from 'pages/Lobby/PlayerDiv';\n\n\nconst Lobby = () => {\n  const history = useHistory();\n  const dispatch = useAppDispatch();\n\n  const [chosenCharacter, setChosenCharacter] = useState(false);\n  const { roomInfo, players, self, start } = useAppSelector(selectRoom);\n  const numOfPlayers = useAppSelector(selectNumOfPlayers);\n\n  useFirebaseSyncState();\n\n\n\n  const chooseCharacter = (character: string, player: Player) => {\n    if (!chosenCharacter && !player?.playerName) {\n      dispatch(setCharacter(character));\n      setChosenCharacter(true);\n    }\n  };\n\n  return <>\n    {\n      start ? (\n        <Redirect to='/game' />\n      ) : (\n        <div className={styles.lobby}>\n          <RoomInfo {...roomInfo} />\n\n          <div className={styles.players}>\n            {\n              Object.entries(players).sort().map(([character, player], idx) =>\n                <PlayerDiv\n                  key={idx}\n                  idx={idx}\n                  chooseCharacter={chooseCharacter}\n                  character={character}\n                  player={player}\n                />\n              )\n            }\n          </div>\n\n          {\n            self.creator && (\n              <button\n                className={styles.start}\n                onClick={() => {\n                  if (numOfPlayers < 3)\n                    return alert('Not Enought Players');\n\n                  dispatch(startGame());\n                }}\n              >\n                Start Game\n              </button>\n            )\n          }\n        </div>\n      )\n    }\n  </>;\n};\n\nexport default Lobby;\n","import styles from 'pages/Game/Card.module.scss';\n\nconst Card = ({\n  text, type, onClick\n}: {\n  text: string;\n  type: string;\n  onClick?: () => void;\n}) => {\n  return (\n    <div\n      className={`${styles.card} ${type && type.split(' ').map(type => styles[type]).join(' ')}`}\n      onClick={onClick}\n    >\n      {text}\n    </div>\n  );\n};\n\nexport default Card;\n","import styles from 'pages/Game/PlayerHand.module.scss';\n\nimport { Player } from 'app/roomSlice';\nimport characterImgs from 'assets/characterImgs';\nimport Card from 'pages/Game/Card';\n\nconst PlayerHand = ({\n  character,\n  player,\n  choice,\n  hide\n}: {\n  character: string;\n  player: Player;\n  choice?: { letter: string, text: string; };\n  hide: boolean;\n}) => {\n  return (\n    <div className={styles.playerHand}>\n      <div className={styles.avatar}>\n        <img\n          src={characterImgs[character as keyof typeof characterImgs]}\n          alt=\"\"\n        />\n        <div>\n          {player?.playerName || 'Choose me'}\n        </div>\n        <div className={styles.lives}>\n          {\n            [...Array(player.numOfLives)].map((_, idx) => (\n              <div key={idx} />\n            ))\n          }\n        </div>\n      </div>\n      {choice?.text && (\n        hide ? (\n          <div className={styles.backOfCard} />\n        ) : (\n          <Card\n            type={`choice${choice.letter.toUpperCase()} small`}\n            text={choice.text}\n          />\n        )\n      )}\n    </div>\n  );\n};\n\nexport default PlayerHand;\n","import styles from 'pages/Game/Game.module.scss';\n\nimport { useFirebaseSyncState } from 'utils/hooks';\n\nimport { useAppSelector, useAppDispatch } from 'app/hooks';\nimport { makeChoice, selectRoom } from 'app/roomSlice';\n\nimport cards from 'assets/cards';\nimport RoomInfo from 'components/RoomInfo';\nimport Card from 'pages/Game/Card';\nimport PlayerHand from 'pages/Game/PlayerHand';\n\n\nconst Game = () => {\n  const dispatch = useAppDispatch();\n  const { roomInfo, players, reveal, hide, questionIdx } = useAppSelector(selectRoom);\n  console.log('questionIdx', questionIdx);\n  useFirebaseSyncState();\n\n  return (\n    <div className={styles.game}>\n      <div className={styles.players}>\n        {\n          Object.entries(players).sort()\n            .filter(([_, player]) =>\n              player.playerName\n            ).map(([character, player], idx) =>\n              <PlayerHand\n                key={idx}\n                character={character}\n                player={player}\n                choice={player.choice}\n                hide={hide}\n              />\n            )\n        }\n      </div>\n\n      <div className={styles.panel}>\n        <RoomInfo\n          theme={styles.roomInfo}\n          {...roomInfo}\n        />\n\n        <Card\n          type='question'\n          text={cards[questionIdx].question}\n          onClick={() => {\n\n          }}\n        />\n\n        <div className={styles.choices}>\n          <Card\n            type='choiceA'\n            text={cards[questionIdx].choices.a}\n            onClick={() => {\n              !reveal && dispatch(makeChoice({ letter: 'a', text: cards[0].choices.a }));\n            }}\n          />\n          <Card\n            type='choiceB'\n            text={cards[questionIdx].choices.b}\n            onClick={() => {\n              !reveal && dispatch(makeChoice({ letter: 'b', text: cards[0].choices.b }));\n            }}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Game;\n","\nimport 'App.scss';\nimport { Switch, Route } from \"react-router-dom\";\n\nimport Homepage from 'pages/Homepage/Homepage';\nimport JoinRoom from 'pages/JoinRoom/JoinRoom';\nimport CreateRoom from 'pages/CreateRoom/CreateRoom';\nimport Lobby from 'pages/Lobby/Lobby';\nimport Game from 'pages/Game/Game';\n\n\nfunction App() {\n  return (\n    <>\n      <Switch>\n        <Route exact path='/'>\n          <Homepage />\n        </Route>\n        <Route exact path='/join'>\n          <JoinRoom />\n        </Route>\n        <Route exact path='/create'>\n          <CreateRoom />\n        </Route>\n        <Route exact path='/lobby'>\n          <Lobby />\n        </Route>\n        <Route exact path='/game'>\n          <Game />\n        </Route>\n      </Switch>\n      <div className='gameInfo'>About the Game</div>\n    </>\n  );\n}\n\nexport default App;\n","import 'index.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport { store } from 'app/store';\nimport { Provider } from 'react-redux';\n\nimport App from 'App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename='/catcher-game'>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}